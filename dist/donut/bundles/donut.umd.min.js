!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("donut",["exports","@angular/core","@angular/common"],t):t((e=e||self).donut={},e.ng.core,e.ng.common)}(this,(function(e,t,n){"use strict";var r=function(){function e(){}return e.prototype.getProcessedData=function(e){return this.sum=this.fetchSum(e),e=this.calculatePercentages(e,this.sum),e=this.calculateDashArrays(e),e=this.getOffsets(e)},e.prototype.calculateDashArrays=function(e){var t=this;return e.forEach((function(e){e.strokeDasharray=t.getDasharrayString(e.percentage)})),e},e.prototype.calculatePercentages=function(e,t){var n=this;return e.forEach((function(e){e.percentage=n.getRoundedPercentage(parseInt(e.value),t)})),e},e.prototype.fetchSum=function(e){return e.map((function(e){return parseInt(e.value)})).reduce((function(e,t){return e+t}),0)},e.prototype.getRoundedPercentage=function(e,t){return t?Math.round(e/t*100*10)/10:0},e.prototype.getDasharrayString=function(e){return e+" "+(100-e)},e.prototype.getOffsets=function(e){var t=0;return e.forEach((function(e,n){0===n?(e.strokeOffset=0,t=e.percentage):(e.strokeOffset=100-t,t+=e.percentage)})),e},e.ɵfac=function(t){return new(t||e)},e.ɵprov=t.ɵɵdefineInjectable({token:e,factory:e.ɵfac,providedIn:"root"}),e}(),o=["parent"];function a(e,n){if(1&e&&(t.ɵɵnamespaceSVG(),t.ɵɵelement(0,"circle",13)),2&e){var r=n.$implicit,o=t.ɵɵnextContext();t.ɵɵstyleProp("stroke",r.color)("stroke-width",o.strokeWidth)("stroke-dasharray",r.strokeDasharray)("stroke-dashoffset",r.strokeOffset)}}function i(e,n){if(1&e&&(t.ɵɵnamespaceSVG(),t.ɵɵelementStart(0,"text",14),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",r.innerLabelText," ")}}function c(e,n){if(1&e&&(t.ɵɵnamespaceSVG(),t.ɵɵelementStart(0,"text",15),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",r.sum," ")}}function l(e,n){if(1&e&&(t.ɵɵelementStart(0,"li"),t.ɵɵelement(1,"span",16),t.ɵɵelementStart(2,"b"),t.ɵɵtext(3),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"span",17),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var r=n.$implicit;t.ɵɵadvance(1),t.ɵɵstyleProp("background-color",r.color),t.ɵɵadvance(2),t.ɵɵtextInterpolate1("",r.name," "),t.ɵɵadvance(2),t.ɵɵtextInterpolate2(" ",r.value,"(",r.percentage,"%) ")}}var s=function(){function e(e){this.donutService=e}return Object.defineProperty(e.prototype,"showTotal",{set:function(e){this._showTotal=!(!e||!0!==e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dim",{set:function(e){e&&(this.height=e[0],this.width=e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerLabel",{set:function(e){this.innerLabelText=e||null},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.donutData=this.donutService.getProcessedData(this.donutData),this.strokeWidth=3,this.sum=this.donutService.sum,this.showLegend=!1},e.prototype.ngAfterViewInit=function(){this.parent.nativeElement.style.height=this.height+"px",this.parent.nativeElement.style.width=this.width+"px"},e.prototype.fetchFakeData=function(){this.donutData=[{name:"Red",value:"20",color:"#E25325"},{name:"Blue",value:"30",color:"#6064CF"},{name:"Black",value:"10",color:"#5A5C59"},{name:"Green",value:"40",color:"#50FD1D"}]},e.ɵfac=function(n){return new(n||e)(t.ɵɵdirectiveInject(r))},e.ɵcmp=t.ɵɵdefineComponent({type:e,selectors:[["ng-donut"]],viewQuery:function(e,n){var r;(1&e&&t.ɵɵviewQuery(o,!0),2&e)&&(t.ɵɵqueryRefresh(r=t.ɵɵloadQuery())&&(n.parent=r.first))},inputs:{showTotal:"showTotal",dim:"dim",donutData:"donutData",innerLabel:"innerLabel"},decls:15,vars:4,consts:[["parent",""],[1,"figure-class"],["fxFlex","57%",1,"figure-content"],["width","100%","height","100%","viewBox","0 0 42 42","aria-labelledby","beers-title beers-desc","role","img",1,"donut"],["cx","21","cy","21","r","15.91549430918954","fill","#fff","role","presentation",1,"donut-hole"],["cx","21","cy","21","r","15.91549430918954","fill","transparent","stroke","#d2d3d4","stroke-width","3","role","presentation",1,"donut-ring"],["class","donut-segment","cx","21","cy","21","r","15.91549430918954","fill","transparent","aria-labelledby","donut-segment-1-title donut-segment-1-desc",3,"stroke","stroke-width","stroke-dasharray","stroke-dashoffset",4,"ngFor","ngForOf"],[1,"chart-text"],["x","50%","y","50%","class","chart-label",4,"ngIf"],["x","50%","y","50%","class","chart-number",4,"ngIf"],["fxFlex","43%",1,"figure-key"],["aria-hidden","true","role","presentation",1,"figure-key-list"],[4,"ngFor","ngForOf"],["cx","21","cy","21","r","15.91549430918954","fill","transparent","aria-labelledby","donut-segment-1-title donut-segment-1-desc",1,"donut-segment"],["x","50%","y","50%",1,"chart-label"],["x","50%","y","50%",1,"chart-number"],[1,"shape-circle"],[1,"donut-data-count-percentage"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",null,0),t.ɵɵelementStart(2,"figure",1),t.ɵɵelementStart(3,"div",2),t.ɵɵnamespaceSVG(),t.ɵɵelementStart(4,"svg",3),t.ɵɵelement(5,"circle",4),t.ɵɵelement(6,"circle",5),t.ɵɵtemplate(7,a,1,8,"circle",6),t.ɵɵelementStart(8,"g",7),t.ɵɵtemplate(9,i,2,1,"text",8),t.ɵɵtemplate(10,c,2,1,"text",9),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵnamespaceHTML(),t.ɵɵelementStart(11,"div",10),t.ɵɵelementStart(12,"figcaption"),t.ɵɵelementStart(13,"ul",11),t.ɵɵtemplate(14,l,6,5,"li",12),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(7),t.ɵɵproperty("ngForOf",n.donutData),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.innerLabelText),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n._showTotal),t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.donutData))},directives:[n.NgForOf,n.NgIf],styles:["body[_ngcontent-%COMP%]{font:16px/1.4em Montserrat,Arial,sans-serif}*[_ngcontent-%COMP%]{box-sizing:border-box}.chart-text[_ngcontent-%COMP%]{fill:#000;transform:translateY(.25em)}.chart-number[_ngcontent-%COMP%]{font-size:.4em;line-height:1;text-anchor:middle;transform:translateY(.7em) translateX(-.1em)}.chart-label[_ngcontent-%COMP%]{font-size:.2em;text-anchor:middle;transform:translateY(-1.3em)}figure[_ngcontent-%COMP%]{display:flex;justify-content:space-around;flex-direction:column;margin-left:-15px;margin-right:-15px}.figure-content[_ngcontent-%COMP%]{flex:1;padding-left:15px;padding-right:15px;-ms-grid-row-align:center;align-self:center}.figure-content[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:auto}.figure-key[_ngcontent-%COMP%]{flex:1;-ms-grid-row-align:center;align-self:center;min-width:calc(8 / 12)}.figure-key[_ngcontent-%COMP%]   [class*=shape-][_ngcontent-%COMP%]{margin-right:6px}.figure-key-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.figure-key-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 8px;padding:0;font-size:7pt}.shape-circle[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;width:10px;height:10px;border-radius:20%}.shape-blue[_ngcontent-%COMP%]{background-color:#0091ea}.shape-orange[_ngcontent-%COMP%]{background-color:#ff6d00}.shape-green[_ngcontent-%COMP%]{background-color:#00c853}.shape-gray[_ngcontent-%COMP%]{background-color:#4a4a4a}.shape-yellow[_ngcontent-%COMP%]{background-color:#eec400}.shape-red[_ngcontent-%COMP%]{background-color:#c00}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}@media (min-width:768px){figure[_ngcontent-%COMP%]{flex-direction:row}}.figure-class[_ngcontent-%COMP%]{flex-direction:row;display:flex}.donut-data-count-percentage[_ngcontent-%COMP%]{float:right;margin-right:15%}"]}),e}(),d=function(){function e(){}return e.ɵmod=t.ɵɵdefineNgModule({type:e}),e.ɵinj=t.ɵɵdefineInjector({factory:function(t){return new(t||e)},imports:[[n.CommonModule]]}),e}();("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(d,{declarations:[s],imports:[n.CommonModule],exports:[s]}),e.DonutComponent=s,e.DonutModule=d,e.DonutService=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=donut.umd.min.js.map