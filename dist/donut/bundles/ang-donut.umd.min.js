!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ang-donut",["exports","@angular/core","@angular/common"],t):t((e=e||self)["ang-donut"]={},e.ng.core,e.ng.common)}(this,(function(e,t,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function r(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}var o=function(){function e(){}return e.prototype.getProcessedData=function(e){return this.sum=this.fetchSum(e),e=this.calculatePercentages(e,this.sum),e=this.calculateDashArrays(e),e=this.getOffsets(e)},e.prototype.calculateDashArrays=function(e){var t=this;return e.forEach((function(e){e.strokeDasharray=t.getDasharrayString(e.percentage)})),e},e.prototype.calculatePercentages=function(e,t){var n=this;return e.forEach((function(e){e.percentage=n.getRoundedPercentage(parseInt(e.value),t)})),e},e.prototype.fetchSum=function(e){return e.map((function(e){return parseInt(e.value)})).reduce((function(e,t){return e+t}),0)},e.prototype.getRoundedPercentage=function(e,t){return t?Math.round(e/t*100*10)/10:0},e.prototype.getDasharrayString=function(e){return e+" "+(100-e)},e.prototype.getOffsets=function(e){var t=0;return e.forEach((function(e,n){0===n?(e.strokeOffset=0,t=e.percentage):(e.strokeOffset=100-t,t+=e.percentage)})),e},e.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=r([t.Injectable({providedIn:"root"})],e)}(),a=function(){function e(e){this.donutService=e}return Object.defineProperty(e.prototype,"showTotal",{set:function(e){this._showTotal=!(!e||!0!==e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLegend",{set:function(e){this._showLegend=!(!e||!0!==e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dim",{set:function(e){e&&(this.height=e[0],this.width=e[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"innerLabel",{set:function(e){this.innerLabelText=e||null},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.donutData=this.donutService.getProcessedData(this.donutData),this.strokeWidth=3,this.sum=this.donutService.sum},e.prototype.ngAfterViewInit=function(){this.parent.nativeElement.style.height=this.height+"px",this.parent.nativeElement.style.width=this.width+"px"},e.prototype.fetchFakeData=function(){this.donutData=[{name:"Red",value:"20",color:"#E25325"},{name:"Blue",value:"30",color:"#6064CF"},{name:"Black",value:"10",color:"#5A5C59"},{name:"Green",value:"40",color:"#50FD1D"}]},e.ctorParameters=function(){return[{type:o}]},r([t.ViewChild("parent")],e.prototype,"parent",void 0),r([t.Input()],e.prototype,"showTotal",null),r([t.Input()],e.prototype,"showLegend",null),r([t.Input()],e.prototype,"dim",null),r([t.Input()],e.prototype,"donutData",void 0),r([t.Input()],e.prototype,"innerLabel",null),e=r([t.Component({selector:"ng-donut",template:'<div #parent>\n    <figure class=\'figure-class\'>\n      <div class="figure-content" fxFlex=\'65%\'>\n        <svg width="100%" height="100%" viewBox="0 0 42 42" class="donut" aria-labelledby="beers-title beers-desc"\n          role="img">\n          <circle class="donut-hole" cx="21" cy="21" r="15.91549430918954" fill="#fff" role="presentation"></circle>\n          <circle class="donut-ring" cx="21" cy="21" r="15.91549430918954" fill="transparent" stroke="#d2d3d4"\n            stroke-width="3" role="presentation"></circle>\n  \n          <circle *ngFor="let data of donutData;" class="donut-segment" cx="21" cy="21" r="15.91549430918954"\n            fill="transparent" [style.stroke]="data.color" [style.stroke-width]="strokeWidth" [style.stroke-dasharray]="data.strokeDasharray"\n            [style.stroke-dashoffset]="data.strokeOffset" aria-labelledby="donut-segment-1-title donut-segment-1-desc">\n          </circle>\n          \x3c!-- unused 10% --\x3e\n          <g class="chart-text">\n            <text *ngIf=\'innerLabelText\' x="50%" y="50%" class="chart-label">\n              {{innerLabelText}}\n            </text>\n            <text *ngIf=\'_showTotal\' x="50%" y="50%" class="chart-number">\n              {{sum}}\n            </text>\n          </g>\n        </svg>\n      </div>\n      <div *ngIf="_showLegend" class="figure-key" fxFlex=\'35%\'>\n      <figcaption>\n        <ul class="figure-key-list" aria-hidden="true" role="presentation">\n          <li *ngFor="let data of donutData;">\n            <span class="shape-circle" [style.background-color]="data.color"></span>\n            <b>{{data.name}} </b>\n            <span class="donut-data-count-percentage">\n              - {{data.value}} ({{data.percentage}}%)\n            </span>\n          </li>\n        </ul>\n      </figcaption>\n    </div>\n    </figure>\n  </div>',styles:["body{font:16px/1.4em Montserrat,Arial,sans-serif}*{box-sizing:border-box}.chart-text{fill:#000;transform:translateY(.25em)}.chart-number{font-size:.4em;line-height:1;text-anchor:middle;transform:translateY(.7em) translateX(-.1em)}.chart-label{font-size:.2em;text-anchor:middle;transform:translateY(-1.3em)}figure{display:flex;justify-content:space-around;flex-direction:column;margin-left:-15px;margin-right:-15px}.figure-content{flex:1;padding-left:15px;padding-right:15px;-ms-grid-row-align:center;align-self:center}.figure-content svg{height:auto}.figure-key{flex:1;-ms-grid-row-align:center;align-self:center;min-width:calc(8 / 12)}.figure-key [class*=shape-]{margin-right:6px}.figure-key-list{margin:0;padding:0;list-style:none}.figure-key-list li{margin:0 0 8px;padding:0;font-size:7pt}.shape-circle{display:inline-block;vertical-align:middle;width:10px;height:10px;border-radius:20%}.shape-blue{background-color:#0091ea}.shape-orange{background-color:#ff6d00}.shape-green{background-color:#00c853}.shape-gray{background-color:#4a4a4a}.shape-yellow{background-color:#eec400}.shape-red{background-color:#c00}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}@media (min-width:768px){figure{flex-direction:row}}.figure-class{flex-direction:row;display:flex}"]})],e)}(),i=function(){function e(){}return e=r([t.NgModule({declarations:[a],imports:[n.CommonModule],exports:[a]})],e)}();e.DonutComponent=a,e.DonutModule=i,e.DonutService=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ang-donut.umd.min.js.map